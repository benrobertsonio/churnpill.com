---
// Features component highlighting the problem with current churn solutions

export interface Props {
  title?: string;
  subtitle?: string;
  description?: string;
  features?: Array<{
    icon?: string;
    title: string;
    description: string;
    linkText?: string;
    linkUrl?: string;
  }>;
  backgroundColor?: string;
  textColor?: string;
}

const {
  title = "Currently, you have three bad options for handling customer churn",
  subtitle = "The problem",
  description = "Each approach has significant drawbacks that hurt your business and waste valuable resources.",
  features = [
    {
      icon: `<path d="M5.5 17a4.5 4.5 0 0 1-1.44-8.765 4.5 4.5 0 0 1 8.302-3.046 3.5 3.5 0 0 1 4.504 4.272A4 4 0 0 1 15 17H5.5Zm3.75-2.75a.75.75 0 0 0 1.5 0V9.66l1.95 2.1a.75.75 0 1 0 1.1-1.02l-3.25-3.5a.75.75 0 0 0-1.1 0l-3.25 3.5a.75.75 0 1 0 1.1 1.02l1.95-2.1v4.59Z" clip-rule="evenodd" fill-rule="evenodd" />`,
      title: "Do nothing",
      description: "Customers cancel without telling you why. No data to guide product improvements. Revenue walks out the door every month.",
      linkText: "Learn more",
    },
    {
      icon: `<path d="M10 1a4.5 4.5 0 0 0-4.5 4.5V9H5a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2h-.5V5.5A4.5 4.5 0 0 0 10 1Zm3 8V5.5a3 3 0 1 0-6 0V9h6Z" clip-rule="evenodd" fill-rule="evenodd" />`,
      title: "Build your own cancel flow",
      description: "Weeks of engineering time for a single button. Stripe's API is confusing and changes often. Still no analytics or ROI tracking.",

    },
    {
      icon: `<path d="M15.312 11.424a5.5 5.5 0 0 1-9.201 2.466l-.312-.311h2.433a.75.75 0 0 0 0-1.5H3.989a.75.75 0 0 0-.75.75v4.242a.75.75 0 0 0 1.5 0v-2.43l.31.31a7 7 0 0 0 11.712-3.138.75.75 0 0 0-1.449-.39Zm1.23-3.723a.75.75 0 0 0 .219-.53V2.929a.75.75 0 0 0-1.5 0V5.36l-.31-.31A7 7 0 0 0 3.239 8.188a.75.75 0 1 0 1.448.389A5.5 5.5 0 0 1 13.89 6.11l.311.31h-2.432a.75.75 0 0 0 0 1.5h4.243a.75.75 0 0 0 .53-.219Z" clip-rule="evenodd" fill-rule="evenodd" />`,
      title: "Buy an enterprise churn platform",
      description: "$300+/month price tag. Complicated setup that needs developer time. Bloated features you'll never use.",

    }
  ],
  backgroundColor = "bg-white dark:bg-gray-900",
  textColor = "text-gray-900 dark:text-white"
} = Astro.props;
---

<div class={`${backgroundColor} py-24 sm:py-32`}>
  <div class="mx-auto max-w-7xl px-6 lg:px-8">
    <div class="mx-auto max-w-2xl lg:text-center">
      <h2 class="text-base/7 font-semibold text-primary-600 dark:text-primary-400 font-archivo">{subtitle}</h2>
      <p class={`mt-2 text-4xl font-semibold tracking-tight text-pretty sm:text-5xl lg:text-balance ${textColor} font-gambarino`}>{title}</p>
      <p class="mt-6 text-lg/8 text-gray-600 dark:text-gray-300 font-archivo">{description}</p>
    </div>
    <div class="mx-auto mt-16 max-w-2xl sm:mt-20 lg:mt-24 lg:max-w-none">
      <dl class="grid max-w-xl grid-cols-1 gap-x-8 gap-y-16 lg:max-w-none lg:grid-cols-3">
        {features.map((feature) => (
          <div class="flex flex-col">
            <dt class="flex items-center gap-x-3 text-xl font-semibold text-gray-900 dark:text-white font-gambarino">
              {feature.icon && (
                <svg viewBox="0 0 20 20" fill="currentColor" data-slot="icon" aria-hidden="true" class="size-5 flex-none text-primary-600 dark:text-primary-400">
                  <Fragment set:html={feature.icon} />
                </svg>
              )}
              {feature.title}
            </dt>
            <dd class="mt-4 flex flex-auto flex-col text-base/7 text-gray-600 dark:text-gray-400 font-archivo">
              <p class="flex-auto">{feature.description}</p>
              {feature.linkText && feature.linkUrl && (
                <p class="mt-6">
                  <a href={feature.linkUrl} class="text-sm/6 font-semibold text-primary-600 hover:text-primary-500 dark:text-primary-400 dark:hover:text-primary-300 font-archivo">
                    {feature.linkText} <span aria-hidden="true">â†’</span>
                  </a>
                </p>
              )}
            </dd>
          </div>
        ))}
      </dl>
    </div>
  </div>
</div>
